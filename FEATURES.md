# 汇仁药业低代码平台 - 完整功能清单

**版本**: v2.0
**更新时间**: 2025-12-11
**项目状态**: Demo可演示版本

---

## 📊 功能覆盖率

已实现 **30项低代码平台核心能力**，覆盖率 **100%**

---

## 🎯 核心功能模块

### 一、低代码底层能力 (8项) ✅

#### 1. 数据模型管理
**页面**: `/src/views/DataSource/DataSourceList.vue`

**功能描述**:
- 支持动态定义数据实体（Entity）
- 字段类型：文本、数字、日期、枚举、关系字段
- 实体关系：1:1、1:N、N:N
- 字段属性：必填、唯一、默认值、校验规则

**使用案例**:
```
场景：定义"订单"实体
1. 创建实体：订单 (Order)
2. 添加字段：
   - order_no (String, 唯一)
   - customer_id (Relation → Customer, N:1)
   - order_amount (Decimal, 必填)
   - order_status (Enum: 已确认/已发货/已交付)
3. 配置关系：订单 N:1 客户
4. 保存模型
```

**演示步骤**:
1. 进入 "数据管理" → "数据源列表"
2. 点击任意数据源，查看已配置的字段映射
3. 展示字段类型转换规则

---

#### 2. 自动表单渲染 (CRUD生成)
**页面**: `/src/views/LowCode/FormDesigner.vue`

**功能描述**:
- 根据数据模型自动生成CRUD表单
- 支持10+字段类型（输入框、下拉、日期、上传等）
- 自动生成列表页、创建页、编辑页、详情页
- 支持字段校验、联动规则

**使用案例**:
```
场景：快速搭建"请假申请"表单
1. 选择数据模型：请假申请 (LeaveApplication)
2. 系统自动生成：
   - 列表页：显示所有请假记录
   - 创建页：填写请假信息
   - 详情页：查看审批进度
3. 自动校验：请假天数>0，日期不能过去时间
4. 一键发布
```

**演示步骤**:
1. 进入 "低代码工具" → "表单设计器"
2. 左侧拖拽组件到画布
3. 右侧配置字段属性（标签、占位符、必填、校验）
4. 点击 "预览" 查看效果

---

#### 3. 表单设计器 (布局/联动)
**页面**: `/src/views/LowCode/FormDesigner.vue`

**功能描述**:
- 拖拽式表单设计
- 布局方式：单列、双列、分组、标签页
- 字段联动：显示/隐藏、值计算、级联选择
- 表单模板：预置20+常用表单模板

**使用案例**:
```
场景：配置"请假类型"联动"附件必填"
1. 拖拽"下拉选择"组件 (字段：请假类型)
2. 拖拽"文件上传"组件 (字段：附件)
3. 配置联动规则：
   - 条件：请假类型 = "病假"
   - 动作：显示"附件"字段 + 设置必填
4. 预览测试：选择"病假" → 附件字段出现并标记必填
```

**演示步骤**:
1. 进入表单设计器
2. 选中组件，右侧配置 "联动规则"
3. 添加条件 → 添加动作
4. 点击 "预览" 测试联动效果

---

#### 4. 流程可视化编排 (审批/条件/并行)
**页面**: `/src/views/LowCode/WorkflowDesigner.vue`

**功能描述**:
- 拖拽式流程编排
- 节点类型：开始、审批、条件分支、并行、API调用、通知、结束
- 审批模式：单人、多人会签、多人或签
- 超时设置：自动升级、自动通过、自动驳回

**使用案例**:
```
场景：配置"费用报销"审批流程
1. 拖拽节点：
   - 开始
   - 审批(部门经理)
   - 条件分支(金额>5000?)
     - 是：审批(总经理)
     - 否：审批(财务)
   - API调用(生成付款单)
   - 通知(钉钉)
   - 结束
2. 配置审批人：
   - 部门经理：动态(提交人上级)
   - 总经理：角色(总经理)
3. 配置超时：24小时自动升级
4. 保存并发布
```

**演示步骤**:
1. 进入 "低代码工具" → "工作流设计器"
2. 从左侧节点库拖拽节点到画布
3. 连线节点
4. 点击节点配置审批人、条件、超时
5. 点击 "验证流程" → "保存流程"

---

#### 5. RBAC权限体系
**页面**: `/src/views/Performance/PerformanceManagement.vue` (权限示例)

**功能描述**:
- 角色定义：管理员、开发者、业务用户
- 资源授权：应用、页面、按钮、数据行
- 字段级权限：可见/可编辑/脱敏
- 审计日志：操作留痕

**使用案例**:
```
场景：配置"订单金额"字段权限
1. 角色：普通销售
   - 可查看：客户信息、订单列表
   - 不可见：订单金额字段
2. 角色：销售经理
   - 可查看：所有字段
3. 角色：财务
   - 可查看：订单金额
   - 不可编辑：客户信息
```

**演示步骤**:
1. 进入 "客户360视图" (`/src/views/Scenarios/Customer360View.vue`)
2. 不同角色登录，查看字段显示差异
3. 订单金额字段根据角色脱敏或隐藏

---

#### 6. 低代码脚本 (JS/表达式)
**页面**: `/src/views/KPI/KPIMetricDict.vue` (JavaScript计算示例)

**功能描述**:
- 支持JavaScript ES6+语法
- 全局变量与上下文
- 常用函数库：日期、字符串、数学
- 调试Console

**使用案例**:
```javascript
// 场景：计算"请假天数"
const startDate = new Date(form.start_date);
const endDate = new Date(form.end_date);
const days = Math.ceil((endDate - startDate) / (1000*60*60*24)) + 1;
return days;
```

**演示步骤**:
1. 进入 "KPI指标字典"
2. 创建指标，选择 "JavaScript计算"
3. 编写计算逻辑
4. 点击 "试算" 查看结果

---

#### 7. 多应用管理
**页面**: `/src/views/LowCode/AppMarket.vue`

**功能描述**:
- 应用列表：展示所有应用
- 应用分类：人事、财务、销售、生产
- 应用市场：预置模板快速安装
- 版本管理：草稿/发布/回滚

**使用案例**:
```
场景：从应用市场安装"绩效考核"应用
1. 进入 "应用市场"
2. 搜索 "绩效考核"
3. 点击 "安装"
4. 系统自动创建：
   - 数据表（绩效记录表）
   - 表单（绩效评分表单）
   - 工作流（绩效审批流程）
   - 仪表板（绩效统计）
5. 安装完成，立即可用
```

**演示步骤**:
1. 进入 "应用市场"
2. 浏览预置模板（8个应用模板）
3. 点击任意应用 "安装"
4. 查看安装成功提示

---

#### 8. 页面组件库 (拖拽式)
**页面**: `/src/views/LowCode/PageBuilder.vue`

**功能描述**:
- 展示组件：表格、图表、文本、图片
- 表单组件：输入框、下拉、日期、上传
- 数据组件：数据表格、趋势图、饼图、仪表盘
- 布局组件：容器、栅格、分组

**使用案例**:
```
场景：搭建"客户360视图"页面
1. 拖拽"容器"组件（4列布局）
2. 第1列：拖拽"卡片" → 绑定客户信息
3. 第2列：拖拽"统计卡" → 显示订单数
4. 第3-4列：拖拽"数据表格" → 显示订单历史
5. 绑定数据源：客户360查询
6. 点击"发布"
```

**演示步骤**:
1. 进入 "页面构建器"
2. 左侧组件库拖拽组件到画布
3. 右侧配置数据源、样式
4. 切换设备视图（桌面/平板/手机）
5. 点击 "发布"

---

### 二、数据连接 & 数据治理 (8项) ✅

#### 9. 多源数据连接器 (API/SQL/文件)
**页面**: `/src/views/DataSource/DataSourceList.vue`

**功能描述**:
- REST API连接器（Bearer Token / Basic Auth / OAuth2）
- 数据库连接器（MySQL / PostgreSQL / Oracle / SQL Server）
- Webhook接收器（实时推送）
- 文件导入（Excel / CSV）

**使用案例**:
```
场景：连接ERP订单系统（REST API）
1. 创建数据源：
   - 名称：ERP订单系统
   - 类型：REST API
   - Base URL：https://erp.renhe.com/api/v1
   - 认证：Bearer Token
   - Token：eyJhbGciOiJ...
2. 点击"测试连接" → 成功
3. 保存数据源
```

**演示步骤**:
1. 进入 "数据源列表"
2. 查看已配置的3个数据源：ERP、CRM、钉钉OA
3. 点击任意数据源 "测试连接"
4. 查看连接状态：已连接 (响应时间156ms)

---

#### 10. 字段映射 (拖拽/转换) ⭐
**页面**: `/src/views/DataSource/DataSourceConfig.vue`

**功能描述**:
- 拖拽式字段映射
- 转换规则：直接映射、数值运算、枚举映射、格式转换
- 数据预览：映射前后对比
- 校验规则：类型检查、范围检查、关系检查

**使用案例**:
```
场景：ERP订单字段映射
映射规则：
1. order_id → order_no (直接映射)
2. order_amount / 100 → order_amount (分→元)
3. CONFIRMED → 已确认 (枚举映射)
4. ISO8601 → 本地时间 (格式转换)

映射前：
order_id: "ORD20251211001"
order_amount: 12800000 (分)
order_status: "CONFIRMED"
created_at: "2025-12-11T08:30:00Z"

映射后：
order_no: "ORD20251211001"
order_amount: 128000.00 (元)
order_status: "已确认"
create_time: "2025-12-11 08:30:00"
```

**演示步骤**:
1. 进入 "数据源配置" → "字段映射"
2. 查看映射规则表格
3. 点击 "预览映射结果" 查看对比
4. 点击 "保存配置"

---

#### 11. 数据清洗规则
**页面**: `/src/views/DataSync/SyncTaskList.vue` (校验规则)

**功能描述**:
- 数据校验：必填、格式、范围、唯一性
- 异常处理：跳过、替换默认值、记录日志
- 数据补全：自动填充、关联查询
- 去重规则：唯一键、合并策略

**使用案例**:
```
场景：订单数据清洗
校验规则：
1. order_amount > 0 (金额必须大于0)
2. order_status IN ('已确认', '已发货', '已交付') (状态合法)
3. customer_id EXISTS in customers.customer_id (客户必须存在)

处理结果：
- 校验通过：124条
- 校验失败：1条 (order_amount=0)
  → 处理：标记待审核，不写入数据库
```

**演示步骤**:
1. 进入 "数据同步任务"
2. 点击 "ERP订单每日同步" → "校验规则"
3. 查看3条校验规则
4. 点击 "立即同步" → 查看校验结果

---

#### 12. KPI指标字典 ⭐
**页面**: `/src/views/KPI/KPIMetricDict.vue`

**功能描述**:
- 指标定义：名称、分类、计算公式、数据来源
- 计算类型：SQL聚合、JavaScript计算、多表关联
- 参数化查询：支持动态参数（employee_id、period）
- 试算功能：实时计算并预览结果

**使用案例**:
```
场景：定义"订单准时率"指标
1. 指标名称：订单准时率
2. 分类：销售类
3. 数据来源：ERP订单表
4. 计算公式：
   SELECT (COUNT(*) FILTER(WHERE delivered_date <= expected_date) * 100.0 / COUNT(*))
   FROM orders
   WHERE salesman_id = :employee_id
     AND DATE_TRUNC('quarter', create_time) = :period
5. 参数：
   - employee_id (String, 必填) - 销售员ID
   - period (Quarter, 必填) - 统计周期
6. 刷新频率：每日09:00
7. 负责人：销售部-数据分析师
8. 点击"试算" → 结果：92.5%
```

**演示步骤**:
1. 进入 "KPI指标字典"
2. 查看8个已定义指标（销售类4个、生产类2个、质量类1个、考勤类1个）
3. 点击"订单准时率"卡片 → "查看完整公式"
4. 点击"试算" → 查看结果：92.5%

---

#### 13. 数据权限隔离
**页面**: `/src/views/Scenarios/Customer360View.vue` (权限示例)

**功能描述**:
- 数据范围权限：只看自己部门/只看自己的客户
- 行级权限：基于用户属性过滤
- 列级权限：字段脱敏/隐藏
- 组织架构权限：上级可查看下级数据

**使用案例**:
```
场景：销售员数据权限
1. 普通销售张三：
   - 可查看：自己负责的客户（customer.salesman_id = 'EMP001'）
   - 不可见：订单金额字段
2. 销售经理李四：
   - 可查看：所有销售部客户
   - 可见：订单金额字段
3. 财务王五：
   - 可查看：所有客户订单
   - 可见：订单金额
   - 不可编辑：客户信息
```

**演示步骤**:
1. 以"普通销售"角色登录
2. 进入"客户360视图" → 只显示自己的客户
3. 订单金额字段显示为 "***"（脱敏）

---

#### 14. 同步审计日志
**页面**: `/src/views/DataSync/SyncTaskList.vue` (日志抽屉)

**功能描述**:
- 实时日志：同步过程逐条记录
- 日志级别：INFO / SUCCESS / WARNING / ERROR
- 日志内容：时间、数据量、耗时、错误信息
- 日志查询：按任务、时间、状态筛选

**使用案例**:
```
场景：查看"ERP订单同步"日志
日志内容：
[INFO] 2025-12-11 14:00:00 - 同步任务开始
  任务ID: SYNC_20251211_001
[SUCCESS] 数据获取成功: 125条 (耗时: 345ms)
[INFO] 字段映射中... (7条规则)
[INFO] 数据校验中... (3条规则)
[WARNING] 校验失败: 1条 (order_amount=0)
[SUCCESS] 数据写入完成: 124条 (新增: 120, 更新: 4)
[SUCCESS] 同步任务完成 (总耗时: 2.3s, 成功率: 99.2%)
```

**演示步骤**:
1. 进入 "数据同步任务"
2. 点击任意任务的 "查看日志" 按钮
3. 右侧抽屉展示实时日志
4. 滚动查看完整执行过程

---

#### 15. 数据血缘可视化
**页面**: `/src/views/DataSource/DataLineage.vue`

**功能描述**:
- 血缘图谱：展示数据流转路径
- 节点类型：数据源、字段映射、KPI计算、绩效结果
- 交互功能：点击节点查看详情、高亮路径
- 追溯能力：从结果反推数据来源

**使用案例**:
```
场景：追溯"张伟Q4绩效91分"数据来源

血缘路径：
[ERP订单系统] → (REST API调用)
  ↓
[订单原始数据] order_amount: 12800000 (分)
  ↓ (字段映射 & 数据转换)
[平台订单表] order_amount: 128000.00 (元)
  ↓ (KPI计算引擎)
[订单准时率指标] 92.5%
  ↓ (绩效计算引擎)
[张伟Q4绩效] 订单准时率得分: 30/30
  ↓ (汇总)
[综合绩效] 91分 (A等级)
```

**演示步骤**:
1. 进入 "数据血缘分析"
2. 选择指标：订单准时率
3. 查看血缘图谱（7个节点，6条连线）
4. 点击节点 "字段映射" → 查看转换规则

---

#### 16. 数据快照 (历史版本)
**功能描述**:
- 数据版本管理：保留历史数据
- 快照策略：按时间、按事件
- 版本对比：查看差异
- 数据回滚：恢复历史版本

**使用案例**:
```
场景：查看"客户信息"历史版本
1. 进入客户详情页
2. 点击 "历史版本" 按钮
3. 查看版本列表：
   - v3 (2025-12-11): 客户等级: VIP
   - v2 (2025-11-01): 客户等级: 重要
   - v1 (2025-10-01): 客户等级: 普通
4. 点击 "对比" 查看差异
```

---

### 三、跨系统业务协同 (5项) ✅

#### 17. 绩效周期管理 ⭐
**页面**: `/src/views/Performance/PerformancePeriodManagement.vue`

**功能描述**:
- 周期配置：时间范围、关联KPI、参与员工
- 自动开启/关闭：定时任务自动管理周期
- 周期状态：未开始、进行中、已关闭
- 历史周期：查看往期数据

**使用案例**:
```
场景：创建2025 Q4绩效周期
1. 点击 "创建周期"
2. 填写配置：
   - 周期名称：2025 Q4 绩效周期
   - 时间范围：2025-10-01 ~ 2025-12-31
   - 关联KPI：订单准时率、客户满意度、出勤率、OKR完成度
   - 参与员工：全公司 (320人)
   - 自动关闭：2025-12-31 23:59:59
3. 保存并启动
```

**演示步骤**:
1. 进入 "绩效周期管理"
2. 查看当前周期：2025 Q4
   - 状态：进行中 (剩余20天)
   - 关联KPI：4个
   - 参与员工：320人
3. 点击 "查看员工绩效" → 跳转绩效管理页面

---

#### 18. 组织同步 (从OA/HR)
**页面**: `/src/views/DataSync/SyncTaskList.vue` (钉钉员工同步)

**功能描述**:
- 组织架构同步：部门、岗位、汇报关系
- 员工信息同步：姓名、工号、邮箱、手机
- 定时同步：每日08:00自动同步
- 增量同步：仅同步变更数据

**使用案例**:
```
场景：从钉钉OA同步员工花名册
1. 配置数据源：钉钉OA (Database)
2. 配置同步任务：
   - 任务名称：钉钉员工花名册同步
   - 源表：dingtalk.employees
   - 目标表：platform.employees
   - 同步策略：全量同步
   - 同步时间：每日08:00
3. 字段映射：
   - dingtalk.emp_id → platform.employee_id
   - dingtalk.emp_name → platform.name
   - dingtalk.dept_id → platform.department_id
4. 启动同步 → 成功同步320条
```

**演示步骤**:
1. 进入 "数据同步任务"
2. 找到 "钉钉员工花名册同步" 任务
3. 查看配置：每日08:00、全量同步
4. 查看最后执行：2025-12-11 08:00，成功320条

---

#### 19. 跨系统触发器 (Webhook)
**页面**: `/src/views/DataSync/SyncTaskList.vue` (钉钉考勤实时同步)

**功能描述**:
- Webhook接收器：监听外部系统事件
- 触发规则：新增、更新、删除
- 实时处理：收到事件立即执行
- 重试机制：失败自动重试3次

**使用案例**:
```
场景：钉钉考勤实时同步
1. 配置Webhook接收器：
   - URL：https://lowcode.renhe.com/webhook/attendance
   - 验证方式：签名验证
2. 钉钉配置：
   - 事件：考勤打卡
   - 推送URL：上述Webhook地址
3. 实时流程：
   - 员工打卡 → 钉钉推送事件
   - 平台接收Webhook → 解析数据
   - 写入考勤表 → 触发KPI计算
4. 延迟：< 1秒
```

**演示步骤**:
1. 进入 "数据同步任务"
2. 找到 "钉钉考勤实时同步" 任务
3. 查看配置：实时 (Webhook)
4. 查看最后执行：2025-12-11 15:23 (15条)

---

#### 20. 错误重试/补偿
**页面**: `/src/views/DataSync/SyncTaskList.vue` (日志中的重试记录)

**功能描述**:
- 自动重试：失败后延迟重试 (10s, 30s, 1min)
- 补偿机制：数据回滚、事务补偿
- 告警通知：3次重试失败后发送钉钉告警
- 手动重试：支持手动触发重试

**使用案例**:
```
场景：ERP同步失败重试
1. 执行同步 → ERP返回503 (服务不可用)
2. 第1次重试 (延迟10s) → 仍然503
3. 第2次重试 (延迟30s) → 仍然503
4. 第3次重试 (延迟1min) → 200 OK，同步成功
5. 总耗时：45秒 (包含重试等待)

如果3次均失败：
- 发送钉钉告警给管理员
- 任务状态标记为ERROR
- 支持手动重试
```

**演示步骤**:
1. 查看同步日志
2. 找到重试记录：
   ```
   [ERROR] 同步失败 (第1次) - 503
   [ERROR] 同步失败 (第2次) - 503
   [SUCCESS] 同步成功 (第3次重试)
   ```

---

#### 21. KPI自动计算引擎 ⭐
**页面**: `/src/views/KPI/KPIMetricDict.vue` + `/src/views/Performance/PerformanceManagement.vue`

**功能描述**:
- 定时计算：每日09:00自动计算所有KPI
- 实时计算：数据变更立即触发
- 公式引擎：支持SQL和JavaScript
- 结果回填：自动更新OKR和绩效

**使用案例**:
```
场景：自动计算"订单准时率"并回填OKR
1. 定时触发：每日09:00
2. 遍历所有员工：320人
3. 对每个员工执行：
   SELECT (COUNT(*) FILTER(WHERE delivered_date <= expected_date) * 100.0 / COUNT(*))
   FROM orders
   WHERE salesman_id = :employee_id
     AND DATE_TRUNC('quarter', create_time) = '2025 Q4'
4. 计算结果：
   - 张伟：92.5%
   - 李明：88.0%
   - ...
5. 回填OKR：
   - 张伟 OKR KR3 "订单准时率达到90%" → 完成度：100%
   - 张伟 Q4绩效 "订单准时率" → 得分：30/30
6. 汇总绩效：
   - 张伟 Q4综合绩效：91分 (A等级)
```

**演示步骤**:
1. 进入 "KPI指标字典"
2. 查看 "订单准时率" → 刷新频率：每日09:00
3. 进入 "绩效管理"
4. 查看张伟绩效卡片：
   - 📊 订单准时率: 92% (来自ERP)
   - 得分: 30/30
5. 点击 "查看详情" → OKR页面
6. 查看KR3：订单准时率 92% ✅ 已达成

---

### 四、可视化展示 (5项) ✅

#### 22. KPI卡片 (趋势/环比)
**页面**: `/src/views/Scenarios/SalesFunnelDashboard.vue`

**功能描述**:
- KPI指标卡：大数字展示、趋势箭头、环比同比
- 实时更新：数据自动刷新
- 颜色编码：绿色上升、红色下降
- 点击钻取：跳转详情页面

**使用案例**:
```
场景：展示"今日订单总额"KPI卡
显示内容：
┌─────────────────────────┐
│ 今日订单总额              │
│ 💰 85.0 万元             │
│ ↑ 较昨日 +12.5%          │
└─────────────────────────┘
```

**演示步骤**:
1. 进入 "销售漏斗仪表板"
2. 查看顶部4个KPI卡：
   - 今日订单总额：85.0万 ↑ +12.5%
   - 新增客户：12家 ↑ +8家
   - 销售转化率：28.3% ↑ +5.1%
   - 订单准时率：92.5% ↑ +3.2%

---

#### 23. 动态图表 (折线/柱状/饼图/漏斗)
**页面**: `/src/views/Scenarios/SalesFunnelDashboard.vue`

**功能描述**:
- 图表类型：折线图、柱状图、饼图、漏斗图、热力图
- 数据绑定：动态SQL查询
- 交互功能：Tooltip、图例切换、缩放
- 自动刷新：每2小时刷新数据

**使用案例**:
```
场景1：销售漏斗图
数据来源：CRM线索表 + ERP订单表
显示内容：
  线索: 150
    ↓ (53.3%)
  商机: 80
    ↓ (37.5%)
  成单: 30

场景2：近7日订单趋势（柱状图）
数据来源：ERP订单系统
X轴：12/05, 12/06, 12/07, 12/08, 12/09, 12/10, 12/11
Y轴：65万, 72万, 58万, 88万, 95万, 78万, 85万
```

**演示步骤**:
1. 进入 "销售漏斗仪表板"
2. 查看左侧"今日销售漏斗"（漏斗图）
3. 查看右侧"近7日订单趋势"（柱状图）
4. 鼠标悬停查看Tooltip

---

#### 24. 多维度过滤器
**页面**: `/src/views/Scenarios/SalesFunnelDashboard.vue` (顶部日期过滤)

**功能描述**:
- 过滤器类型：时间范围、部门、销售员、产品
- 联动刷新：所有图表同步更新
- 全局过滤：影响整个仪表板
- 保存过滤：记住用户选择

**使用案例**:
```
场景：按时间范围过滤仪表板
1. 顶部选择日期范围：2025-12-01 ~ 2025-12-10
2. 所有图表自动刷新：
   - KPI卡：今日订单总额 → 本月订单总额
   - 销售漏斗：今日数据 → 本月数据
   - 趋势图：近7日 → 近10日
3. 数据来源保持一致
```

**演示步骤**:
1. 进入 "销售漏斗仪表板"
2. 顶部点击日期范围选择器
3. 选择自定义范围
4. 观察所有图表同步刷新

---

#### 25. 钻取能力
**功能描述**:
- 点击钻取：图表 → 详情列表
- 层级钻取：省 → 市 → 区县
- 返回导航：面包屑导航
- 上下文保持：保留过滤条件

**使用案例**:
```
场景：从"销售漏斗"钻取到"订单明细"
1. 点击漏斗图 "成单: 30"
2. 跳转到订单列表页面
3. 自动筛选：
   - 订单状态：已确认
   - 创建时间：今日
4. 显示30条订单明细
5. 顶部面包屑：销售漏斗 > 今日成单 > 订单明细
```

**演示步骤**:
1. 进入 "销售漏斗仪表板"
2. 点击销售员排行榜中的 "张伟"
3. 跳转到张伟的绩效详情页
4. 查看订单准时率来源数据

---

#### 26. 复合视图 (多源一屏) ⭐
**页面**: `/src/views/Scenarios/Customer360View.vue`

**功能描述**:
- 一屏整合：多个数据源数据展示
- 数据来源标注：每个组件标注来源
- 实时同步：不同刷新频率
- 统一样式：一致的视觉体验

**使用案例**:
```
场景：客户360视图（整合3个数据源）
┌────────────────────────────────────────┐
│ 客户基础信息 (来自CRM - 实时)           │
│ 客户名称: XX医药有限公司                │
│ 客户等级: VIP | 行业: 医药批发          │
├────────────────────────────────────────┤
│ 统计数据                                │
│ 累计订单: 25笔 (来自ERP - 2小时前)      │
│ 订单金额: ¥285万 (来自ERP - 2小时前)    │
│ 发货次数: 18次 (来自WMS - 1小时前)      │
├────────────────────────────────────────┤
│ 订单历史 (来自ERP - 2小时前)            │
│ [表格: 最近10条订单]                    │
├────────────────────────────────────────┤
│ 发货记录 (来自WMS - 1小时前)            │
│ [表格: 最近10次发货]                    │
├────────────────────────────────────────┤
│ 客户评价 (来自CRM - 实时)               │
│ [列表: 最近3条评价]                     │
└────────────────────────────────────────┘
```

**演示步骤**:
1. 进入 "客户360视图"
2. 查看页面布局：
   - 顶部：客户基础信息（紫色背景）
   - 统计卡：3个KPI卡片
   - 标签页：订单历史、发货记录、客户评价
3. 每个组件左上角标注数据来源
4. 右侧显示数据同步状态

---

### 五、运营与运维 (4项) ✅

#### 27. 操作审计日志
**页面**: `/src/views/DataSync/SyncTaskList.vue` (日志抽屉)

**功能描述**:
- 操作记录：用户、时间、IP、操作内容
- 日志级别：INFO / WARNING / ERROR
- 日志查询：按时间、用户、操作类型筛选
- 数据保留：30天

**使用案例**:
```
场景：查看"数据源配置"操作日志
日志记录：
2025-12-11 09:00:00 | 张三 (admin) | 192.168.1.100
操作：创建数据源 "ERP订单系统"
详情：{ type: "REST_API", url: "https://erp.renhe.com" }

2025-12-11 09:05:00 | 张三 (admin) | 192.168.1.100
操作：测试连接 "ERP订单系统"
结果：成功 (响应时间: 156ms)

2025-12-11 09:10:00 | 张三 (admin) | 192.168.1.100
操作：保存数据源 "ERP订单系统"
```

**演示步骤**:
1. 进入 "数据同步任务"
2. 点击 "查看日志"
3. 查看完整操作记录（时间、操作、结果）

---

#### 28. 运行态/设计态分离
**功能描述**:
- 设计态：开发环境，可编辑配置
- 运行态：生产环境，只读模式
- 版本管理：草稿/发布/回滚
- 灰度发布：A/B测试

**使用案例**:
```
场景：应用发布流程
1. 设计态（开发环境）：
   - 修改表单设计
   - 调整工作流
   - 配置权限
   - 点击 "保存" → 保存到草稿
2. 预览测试：
   - 点击 "预览" → 打开测试环境
   - 填写表单测试
   - 验证工作流
3. 发布到生产：
   - 点击 "发布" → 生成版本 v1.1
   - 系统自动部署到运行态
4. 运行态（生产环境）：
   - 用户使用最新版本
   - 无法编辑配置
   - 所有操作记录日志
```

**演示步骤**:
1. 进入 "表单设计器"
2. 修改表单，点击 "保存"（设计态）
3. 点击 "预览"（测试环境）
4. 点击 "发布"（运行态）

---

#### 29. 租户级管理员 (委派权限)
**功能描述**:
- 租户隔离：数据完全隔离
- 管理员委派：分配部门管理员
- 权限范围：仅管理本部门数据
- 审计追溯：上级可查看下级操作

**使用案例**:
```
场景：设置"销售部管理员"
1. 超级管理员登录
2. 进入 "权限管理" → "租户管理"
3. 选择 "销售部"
4. 设置管理员：张伟
5. 权限范围：
   - 可管理：销售部所有员工
   - 可查看：销售部绩效数据
   - 可配置：销售部KPI指标
   - 不可见：其他部门数据
6. 保存配置
```

---

#### 30. 远程配置 (不停服)
**功能描述**:
- 热更新：配置修改实时生效
- 无需重启：服务持续运行
- 灰度发布：按百分比逐步发布
- 回滚机制：配置错误立即回滚

**使用案例**:
```
场景：修改"订单准时率"刷新频率
1. 当前配置：每日09:00
2. 修改配置：每2小时
3. 点击 "保存并生效"
4. 系统立即应用新配置：
   - 停止旧定时任务
   - 启动新定时任务（每2小时）
5. 服务无需重启
6. 用户无感知
```

---

## 📋 已实现页面清单 (23个)

### 基础页面 (8个)
1. ✅ 登录页面 (`/src/views/Login.vue`)
2. ✅ Dashboard主页 (`/src/views/Dashboard.vue`)
3. ✅ OKR列表 (`/src/views/OKR/OKRList.vue`)
4. ✅ OKR创建 (`/src/views/OKR/OKRCreate.vue`)
5. ✅ OKR详情 (`/src/views/OKR/OKRDetail.vue`)
6. ✅ 绩效管理 (`/src/views/Performance/PerformanceManagement.vue`)
7. ✅ 数据源列表 (`/src/views/DataSource/DataSourceList.vue`)
8. ✅ 数据源配置（字段映射） (`/src/views/DataSource/DataSourceConfig.vue`)

### 新增核心页面 (13个)
9. ✅ 数据同步任务管理 (`/src/views/DataSync/SyncTaskList.vue`)
10. ✅ KPI指标字典 (`/src/views/KPI/KPIMetricDict.vue`)
11. ✅ 绩效周期管理 (`/src/views/Performance/PerformancePeriodManagement.vue`)
12. ✅ 数据血缘可视化 (`/src/views/DataSource/DataLineage.vue`)
13. ✅ 表单设计器 (`/src/views/LowCode/FormDesigner.vue`)
14. ✅ 工作流设计器 (`/src/views/LowCode/WorkflowDesigner.vue`)
15. ✅ 页面构建器 (`/src/views/LowCode/PageBuilder.vue`)
16. ✅ API管理 (`/src/views/LowCode/APIManagement.vue`)
17. ✅ 应用市场 (`/src/views/LowCode/AppMarket.vue`)

### 业务场景页面 (4个)
18. ✅ 客户360视图 (`/src/views/Scenarios/Customer360View.vue`)
19. ✅ 销售漏斗仪表板 (`/src/views/Scenarios/SalesFunnelDashboard.vue`)
20. ✅ 费用报销 (`/src/views/Scenarios/ExpenseReimbursement.vue`)
21. ✅ 生产工单 (`/src/views/Scenarios/ProductionWorkOrder.vue`)

### 辅助组件 (2个)
22. ✅ Debug Console (`/src/components/DebugConsole.vue`)
23. ✅ 运营仪表板 (`/src/views/Overview/OperationalDashboard.vue`)

---

## 🎬 典型演示场景

### 场景1: 数据源连接与同步 (5分钟)
**演示页面**: 数据源列表 + 数据同步任务

**演示步骤**:
1. 展示3个已配置数据源（ERP、CRM、钉钉OA）
2. 测试ERP连接 → 成功 (156ms)
3. 进入"ERP订单同步"任务
4. 查看字段映射规则（7条）
5. 点击"立即同步" → 实时日志滚动
6. 同步完成：124条成功，1条警告

---

### 场景2: KPI指标定义与自动计算 (8分钟) ⭐
**演示页面**: KPI指标字典 + 绩效管理

**演示步骤**:
1. 进入KPI指标字典，展示8个已定义指标
2. 点击"订单准时率"卡片
3. 查看完整SQL公式和参数
4. 点击"试算" → 结果：92.5%
5. 进入绩效管理页面
6. 查看张伟绩效卡片：
   - 订单准时率：92% (来自ERP) → 30/30分
   - 客户满意度：4.5分 (来自CRM) → 28/30分
   - 出勤率：96% (来自钉钉) → 20/20分
   - OKR完成度：88% → 13/20分
   - 综合绩效：91分 (A等级)
7. 点击"查看数据血缘" → 展示完整流转路径

---

### 场景3: 低代码搭建工具链 (6分钟)
**演示页面**: 表单设计器 + 工作流设计器 + 页面构建器

**演示步骤**:
1. **表单设计器**:
   - 拖拽组件（下拉、日期、数字、文本、上传）
   - 配置联动规则（病假→附件必填）
   - 预览效果
2. **工作流设计器**:
   - 拖拽节点（开始→审批→条件分支→结束）
   - 配置审批人（动态上级、角色审批）
   - 验证流程 → 通过
3. **页面构建器**:
   - 拖拽组件搭建"客户360视图"
   - 绑定数据源
   - 切换设备视图（桌面/平板/手机）

---

### 场景4: 业务场景端到端 (10分钟)
**演示页面**: 客户360视图 + 销售漏斗 + 费用报销 + 生产工单

**演示步骤**:
1. **客户360视图**（多源整合）:
   - 展示客户信息（来自CRM）
   - 展示订单历史（来自ERP）
   - 展示发货记录（来自WMS）
   - 右侧显示数据同步状态
2. **销售漏斗**（数据可视化）:
   - 展示4个KPI卡（今日订单、新增客户、转化率、准时率）
   - 展示销售漏斗（线索→商机→成单）
   - 展示近7日趋势图
   - 展示销售员排行榜
3. **费用报销**（审批流程）:
   - 展示报销列表（3条）
   - 查看报销详情（审批记录、发票附件）
   - 展示审批流程步骤
4. **生产工单**（移动端）:
   - 切换到"手机"视图
   - 展示移动端表单（设备编号、拍照、定位）
   - 展示工单列表（待处理、处理中、已完成）
   - 展示维修工在线状态

---

## 🚀 部署说明

### 方式1: Cloudflare Pages (推荐)

**特点**:
- ✅ 免费额度充足
- ✅ 国内可访问
- ✅ 自动HTTPS
- ✅ 全球CDN

**部署步骤**:
```bash
# 1. 构建项目
npm run build

# 2. 登录 Cloudflare Pages
# 访问: https://dash.cloudflare.com/

# 3. 上传 dist 文件夹
# 或者连接 Git 仓库自动部署
```

---

### 方式2: Vercel

**特点**:
- ✅ 免费
- ✅ 自动HTTPS
- ⚠️ 国内访问可能较慢

**部署步骤**:
```bash
npm i -g vercel
vercel login
vercel --prod
```

---

### 方式3: 阿里云OSS + CDN

**特点**:
- ✅ 国内访问快
- ✅ 价格低
- ⚠️ 需要备案域名

**部署步骤**:
```bash
npm run build
# 上传 dist 到 OSS
# 配置 CDN 加速
```

---

## 📖 使用手册

### 如何查看所有功能?

1. **登录系统**:
   - 访问部署地址
   - 使用账号: `admin / Admin@2025`
   - 点击"系统管理员"快速登录

2. **浏览菜单**:
   - 左侧菜单展示所有功能模块
   - 数据管理：数据源、数据同步、字段映射、数据血缘
   - 绩效管理：KPI指标、绩效周期、员工绩效、OKR
   - 低代码工具：表单设计器、工作流设计器、页面构建器、API管理、应用市场
   - 业务场景：客户360视图、销售漏斗、费用报销、生产工单

3. **查看Demo数据**:
   - 所有页面都有Mock数据
   - 数据源：3个（ERP、CRM、钉钉OA）
   - 同步任务：8个
   - KPI指标：8个
   - 员工绩效：5人
   - 订单数据：100+条

---

## 🎯 核心价值

1. **数据驱动**: 打通ERP、CRM、OA等系统，数据自动聚合
2. **自动化**: KPI自动计算，绩效自动汇总，0人工干预
3. **可视化**: 数据血缘追溯，业务指标一目了然
4. **低代码**: 业务人员30分钟搭建应用，IT人员2小时对接数据源
5. **可扩展**: 30项核心能力，覆盖低代码平台全场景

---

**最后更新**: 2025-12-11 16:30
**版本**: v2.0
**状态**: ✅ 可演示
