# 汇仁药业低代码平台 - 更新日志

## 📦 v1.2.0 (2025-12-12)

### 🎨 UI/UX 改进

#### 1. 全新红色主题设计
- ✅ 采用汇仁药业品牌红色 (#d81e06) 作为主色调
- ✅ 渐变背景和光影效果提升视觉层次
- ✅ 统一所有组件的主题配置
- ✅ 深色侧边栏配红色高亮，提升对比度

**文件改动：**
- `src/theme/index.js` - 完整主题配置
- `src/styles/business-theme.css` - 全局样式覆盖
- `src/App.vue` - 主题应用
- `src/views/Dashboard.vue` - 侧边栏样式增强
- `src/views/Login.vue` - 红色渐变背景

---

#### 2. 登录页体验优化

**登录界面改进：**
- ✅ Demo 账号改为横向小方块布局（3列网格）
- ✅ 隐藏调试控制台组件
- ✅ 添加全屏 Loading 过渡动画
- ✅ 登录按钮显示"正在登录..."状态
- ✅ 按钮 Hover/Active 交互反馈

**加载动画特性：**
- 黑色半透明背景（70% opacity）
- 背景模糊效果（backdrop-filter）
- 白色旋转加载图标
- 文字呼吸动画（1.5s 循环）
- 淡入淡出过渡（0.3s）

**文件改动：**
- `src/views/Login.vue` - 布局、动画、交互优化

---

#### 3. 页面构建器布局修复

**问题修复：**
- ✅ 左侧组件面板增加 padding
- ✅ 默认展开所有组件分类
- ✅ 修复画布内容被截断问题
- ✅ 改进网格对齐和卡片高度
- ✅ 顶部红色装饰线替换左侧装饰

**文件改动：**
- `src/views/LowCode/PageBuilder.vue` - 布局和样式修复

---

### 🆕 新增功能模块

#### 1. 业务场景页面完善

新增 **6 个完整的业务场景 Demo 页面**：

1. **🌴 请假申请** (`/leave`)
   - 年假余额、待审批统计
   - 假期类型筛选（年假/病假/事假/产假）
   - 请假申请表单（日期、时长、事由、附件）
   - 申请列表管理（查看、撤销）

2. **💰 采购申请** (`/purchase`)
   - 待审批、已批准统计卡片
   - 采购类型筛选（原材料/设备/办公用品等）
   - 采购申请表单（供应商、明细、预算）
   - 订单跟踪和审批流程

3. **📦 销售订单** (`/sales`)
   - 销售业绩统计（日/月/季度）
   - 订单状态筛选和搜索
   - 订单详情表（客户、产品、金额）
   - 订单操作（查看、发货、取消）

4. **📊 库存管理** (`/inventory`)
   - 库存总值、预警数量统计
   - 产品类别筛选
   - 库存明细表（数量、成本、位置）
   - 入库/出库操作

5. **🔬 质量检验** (`/quality`)
   - 检验合格率、待检数量统计
   - 检验类型筛选
   - 检验记录表（批号、结果、检验员）
   - 不合格品处理流程

6. **🎧 客户服务** (`/customer-service`)
   - 客户满意度、工单统计
   - 优先级和状态筛选
   - 工单列表（客户、问题、处理人）
   - 工单创建和处理流程

**文件改动：**
- `src/views/Scenarios/LeaveApplication.vue` ✨ 新增
- `src/views/Scenarios/PurchaseRequest.vue` ✨ 新增
- `src/views/Scenarios/SalesOrder.vue` ✨ 新增
- `src/views/Scenarios/InventoryManagement.vue` ✨ 新增
- `src/views/Scenarios/QualityInspection.vue` ✨ 新增
- `src/views/Scenarios/CustomerService.vue` ✨ 新增
- `src/router/index.js` - 添加 6 个新路由

---

#### 2. 系统管理页面

新增 **业务场景配置页面** (`/business-scene-config`)：

**功能特性：**
- ✅ 配置每个业务场景使用的表单模板
- ✅ 模板选择器（按分类筛选）
- ✅ 模板详情预览（字段列表、版本信息）
- ✅ 配置预览（JSON 格式）
- ✅ 一键保存和重置功能

**支持场景配置：**
- 请假申请 → 人事管理模板
- 费用报销 → 财务管理模板
- OKR管理 → 绩效管理模板
- 生产工单 → 生产管理模板

**文件改动：**
- `src/views/System/BusinessSceneConfig.vue` ✨ 新增
- `src/router/index.js` - 添加路由

---

### 🐛 Bug 修复

#### 1. 构建错误修复
- ✅ 修复 `DataSourceConfig.vue` 语法错误（2 处）
  - Line 339: `:gutter="16}>` → `:gutter="16"`
  - Line 378: `:span="8}>` → `:span="8"`

**文件改动：**
- `src/views/DataSource/DataSourceConfig.vue` - 语法修复

---

### 🚀 部署优化

#### 1. Cloudflare Pages 部署
- ✅ 成功部署到 Cloudflare Pages
- ✅ 国内可访问
- ✅ 自动 CI/CD（Git push 自动部署）

**访问地址：**
- 🌐 生产环境: https://huiren-medic.pages.dev

**部署配置：**
- Framework: None
- Build command: `npm run build`
- Build output directory: `dist`
- Root directory: (留空)

**文件改动：**
- Git 仓库结构调整（demo 目录作为根目录）

---

### 📊 统计数据

**代码变更：**
- 新增文件: 7 个
- 修改文件: 8 个
- 新增路由: 7 个
- 主题配置: 1 套完整主题系统

**功能覆盖：**
- 业务场景页面: 6 → 12 个（+100%）
- 系统管理页面: 1 → 2 个
- UI 主题: Ant Design 默认 → 汇仁红色主题

---

## 🔮 下一步计划

### 计划功能
- [ ] 移动端适配优化
- [ ] 暗黑模式支持
- [ ] 多语言国际化（中英文）
- [ ] 数据可视化增强（ECharts 图表库）
- [ ] 表单设计器功能完善
- [ ] 工作流引擎集成
- [ ] 实时通知系统
- [ ] 文件上传/下载功能

### 性能优化
- [ ] 代码分割（减少首屏加载时间）
- [ ] 图片懒加载
- [ ] 组件按需加载
- [ ] 缓存策略优化

---

## 📝 技术栈

**前端框架：**
- Vue 3.5 (Composition API)
- Vite 7.2
- Vue Router 4
- Pinia (状态管理)

**UI 组件库：**
- Ant Design Vue 4.x
- 自定义主题配置

**构建部署：**
- Vite (构建工具)
- Cloudflare Pages (部署平台)
- Git (版本控制)

---

## 👥 贡献者

- Claude Code - AI 开发助手
- Dante - 项目负责人

---

**更新时间：** 2025-12-12
**版本：** v1.2.0
