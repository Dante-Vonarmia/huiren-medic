# 汇仁药业低代码平台 Demo 演示指南

## 📋 文档目的

本文档为**明天会议演示**提供完整的操作步骤、话术脚本和技术准备清单。

---

## 🎯 演示目标

展示低代码平台如何实现 **"OKR与ERP对齐，自动算绩效"** 核心价值：
- ✅ 多源数据连接与同步
- ✅ 字段映射与数据转换
- ✅ KPI指标自动计算
- ✅ 绩效自动聚合
- ✅ 跨系统数据一屏展示

---

## 📝 演示脚本 (20分钟版)

### 开场白 (1分钟)

**讲解词:**
> 各位领导好，今天为大家展示汇仁药业低代码平台。这个平台解决了一个核心痛点：**如何让分散在OA、ERP、CRM等系统中的数据，自动聚合到员工绩效，实现数据驱动的绩效管理**。
>
> 我将用5个真实业务场景，演示平台如何在30分钟内搭建应用、2小时内打通数据、0代码实现自动化。

---

### 场景1: 数据源连接 (3分钟)

**演示目标:** 展示平台可以连接多种数据源

#### 操作步骤:

1. **登录系统**
   - 访问: `http://your-domain.com/login`
   - 使用账号: `admin / Admin@2025`
   - 点击 **"系统管理员"** 快速登录卡片

2. **进入数据源管理**
   - 左侧菜单: 数据管理 → 数据源列表
   - 展示已配置的3个数据源:
     - ✅ **ERP订单系统** (REST API) - 状态: 已连接
     - ✅ **CRM客户系统** (REST API) - 状态: 已连接
     - ✅ **钉钉OA** (Database) - 状态: 已连接

3. **演示数据源详情**
   - 点击 **"ERP订单系统"**
   - 展示配置:
     ```
     Base URL: https://erp.renhe.com/api/v1
     认证方式: Bearer Token
     连接状态: ✅ 连接成功 (响应时间: 156ms)
     ```
   - 点击 **"测试连接"** 按钮
   - 成功提示: ✅ 连接成功

**讲解词:**
> 平台支持REST API、数据库、Webhook、文件导入等多种数据源。我们已经对接了ERP、CRM、钉钉OA，可以看到连接状态都是正常的。测试一下ERP连接... (点击测试) ...156毫秒响应，非常快。

**预期效果:**
- 数据源列表清晰展示
- 测试连接成功
- Debug Console显示日志

---

### 场景2: 字段映射 (5分钟) ⭐ 重点

**演示目标:** 展示跨系统字段映射与数据转换能力

#### 操作步骤:

1. **进入数据同步任务**
   - 左侧菜单: 数据管理 → 数据同步任务
   - 展示同步任务列表 (8个任务)
   - 点击 **"ERP订单每日同步"** 任务

2. **展示字段映射配置**
   - 进入 **"字段映射"** 标签页
   - 展示映射规则表格:
     ```
     ERP字段              平台字段         转换规则
     ──────────────────────────────────────────
     order_id       →    order_no        直接映射
     order_amount   →    order_amount    除以100 (分→元)
     order_status   →    order_status    枚举映射 (CONFIRMED→已确认)
     created_at     →    create_time     时间格式转换 (ISO8601→本地)
     ```

3. **演示数据预览**
   - 点击 **"预览映射结果"** 按钮
   - 展示映射前后数据对比:
     ```
     【映射前 - ERP原始数据】
     order_id: "ORD20251211001"
     order_amount: 12800000 (分)
     order_status: "CONFIRMED"
     created_at: "2025-12-11T08:30:00Z"

     【映射后 - 平台数据】
     order_no: "ORD20251211001"
     order_amount: 128000.00 (元)
     order_status: "已确认"
     create_time: "2025-12-11 08:30:00"
     ```

4. **执行同步任务**
   - 点击 **"立即同步"** 按钮
   - Debug Console 实时显示日志:
     ```
     [INFO] 调用API获取数据...
     [SUCCESS] 数据获取成功: 125条
     [INFO] 字段映射中... (7条规则)
     [INFO] 数据校验中... (3条规则)
     [SUCCESS] 数据写入完成: 124条 (新增: 120, 更新: 4)
     [SUCCESS] 同步任务完成 (耗时: 2.3s, 成功率: 99.2%)
     ```

**讲解词:**
> 这是字段映射模块，核心功能。ERP系统的order_amount是以"分"为单位存储的，我们通过转换规则自动除以100转换成"元"。order_status是英文枚举，我们映射成中文"已确认"。时间格式也从ISO8601转成了本地时间格式。
>
> 点击"立即同步"... (等待) ...可以看到右下角Debug Console实时显示同步过程：调用API、字段映射、数据校验、写入数据库，2.3秒完成125条数据同步，成功率99.2%。

**预期效果:**
- 字段映射表格清晰展示
- 映射前后数据对比直观
- 同步日志实时滚动
- 成功率显示

---

### 场景3: KPI指标定义 (5分钟) ⭐ 核心

**演示目标:** 展示如何定义业务指标并自动计算

#### 操作步骤:

1. **进入KPI指标字典**
   - 左侧菜单: 绩效管理 → KPI指标字典
   - 展示指标分类标签: 全部(8) / 销售类(4) / 生产类(2) / 质量类(1) / 考勤类(1)

2. **查看核心指标 - 订单准时率**
   - 找到 **"订单准时率"** 卡片 (蓝色销售类图标)
   - 展示指标信息:
     ```
     📊 订单准时率
     分类: 销售类
     描述: 按期完成订单数占总订单数的百分比，反映销售团队的交付效率
     数据来源: ERP订单表
     计算方式: SQL聚合
     刷新频率: 每日09:00
     负责人: 销售部-数据分析师

     计算公式:
     (按期完成订单数 / 总订单数) × 100%

     最近试算结果:
     92.5% ↑ +3.2%
     更新时间: 2025-12-11 09:00:00
     ```

3. **查看完整SQL公式**
   - 点击卡片下方 **"更多"** → **"查看完整公式"**
   - 弹出模态框展示SQL:
     ```sql
     SELECT
       (COUNT(*) FILTER(WHERE delivered_date <= expected_date) * 100.0 / COUNT(*)) AS ontime_rate
     FROM orders
     WHERE salesman_id = :employee_id
       AND DATE_TRUNC('quarter', create_time) = :period
       AND order_status = '已交付'
     ```
   - 展示参数说明:
     - `employee_id` (string, 必填) - 销售员ID
     - `period` (quarter, 必填) - 统计周期（季度）

4. **执行试算**
   - 关闭模态框
   - 点击 **"试算"** 按钮
   - 提示: ⚡ 正在试算 "订单准时率"...
   - 成功: ✅ 试算成功！订单准时率: 92.5%

5. **查看其他指标**
   - 切换到 **"考勤类"** 标签
   - 展示 **"出勤率"** 指标:
     ```
     📅 出勤率
     数据来源: 钉钉考勤表
     刷新频率: 实时 (Webhook)
     最近试算结果: 96.0% ↓ -1.5%
     ```

**讲解词:**
> 这是KPI指标字典，平台的核心模块。我们定义了8个业务指标，分为销售类、生产类、质量类、考勤类。
>
> 看这个"订单准时率"，它来自ERP订单表，通过SQL自动计算"按期完成订单数除以总订单数"。点击查看完整公式... (展示SQL) ...可以看到完整的SQL逻辑，支持参数化查询。
>
> 点击"试算"... (等待) ...立刻得到结果92.5%，比上次试算提升了3.2个百分点。
>
> 再看这个"出勤率"，它来自钉钉考勤，是实时同步的，通过Webhook触发。当前96%。

**预期效果:**
- 指标卡片美观，信息完整
- SQL公式展示专业
- 试算功能可用
- 实时更新标签醒目

---

### 场景4: 绩效自动计算 (4分钟) ⭐ 核心

**演示目标:** 展示KPI如何自动汇总到员工绩效

#### 操作步骤:

1. **进入绩效周期管理**
   - 左侧菜单: 绩效管理 → 绩效周期管理
   - 展示当前周期:
     ```
     📅 2025 Q4 绩效周期
     时间范围: 2025-10-01 ~ 2025-12-31
     状态: 进行中 (剩余20天)
     关联KPI: 订单准时率、客户满意度、出勤率、OKR完成度
     参与员工: 320人
     自动关闭时间: 2025-12-31 23:59:59
     ```

2. **查看员工绩效列表**
   - 点击 **"查看员工绩效"** 按钮
   - 进入绩效管理页面
   - 展示员工绩效卡片:
     ```
     ┌─────────────────────────────────┐
     │ 张伟 (销售部)                    │
     │ 2025 Q4 综合绩效: 91分 (A)      │
     ├─────────────────────────────────┤
     │ 📊 订单准时率: 92% (来自ERP)     │
     │    目标: 90%, 得分: 30/30       │
     │ 😊 客户满意度: 4.5分 (来自CRM)   │
     │    目标: 4.0, 得分: 28/30       │
     │ 🕐 出勤率: 96% (来自钉钉OA)      │
     │    目标: 95%, 得分: 20/20       │
     │ ⏱️ OKR完成度: 88% (自定义)       │
     │    得分: 13/20                  │
     └─────────────────────────────────┘
     ```

3. **展示数据来源**
   - 鼠标悬停在 **"订单准时率"** 上
   - 显示Tooltip:
     ```
     数据来源: ERP订单系统
     同步频率: 每2小时
     最后更新: 2025-12-11 14:00:00
     计算公式: (按期完成订单数 / 总订单数) × 100%
     张伟本季度: 92条订单, 85条按期完成
     ```

4. **点击查看详情**
   - 点击 **"查看详情"** 按钮
   - 进入OKR详情页面
   - 展示OKR进度条:
     ```
     O1: 提升客户满意度并扩大市场份额 (权重: 50%, 完成度: 88%)
       KR1: 客户满意度达到4.5分以上 (权重: 40%, 完成度: 100%)
         当前值: 4.5分 ✅ 已达成
       KR2: 新增客户数达到30家 (权重: 30%, 完成度: 80%)
         当前值: 24家 (目标: 30家)
       KR3: 订单准时率达到90%以上 (权重: 30%, 完成度: 85%)
         当前值: 92% ✅ 已达成
     ```

**讲解词:**
> 现在进入绩效周期管理。我们设置了2025 Q4绩效周期，从10月1日到12月31日，关联了4个KPI指标，覆盖全公司320名员工。
>
> 点击"查看员工绩效"... 这里可以看到销售部张伟的Q4综合绩效91分，等级A。
>
> 四项KPI自动汇总：
> - "订单准时率92%"来自ERP，超过目标90%，满分30分
> - "客户满意度4.5分"来自CRM，达标，得28分
> - "出勤率96%"来自钉钉OA，实时同步，满分20分
> - "OKR完成度88%"来自平台，得13分
>
> 鼠标悬停... (悬停订单准时率) ...可以看到详细的数据来源、同步频率、计算逻辑。张伟本季度一共92条订单，85条按期完成，所以准时率92%。
>
> 点击"查看详情"... 可以看到OKR的三个关键结果，客户满意度和订单准时率都来自外部系统，已经自动达成。

**预期效果:**
- 绩效周期信息清晰
- 员工绩效卡片美观
- 数据来源标注清楚
- Tooltip展示详细信息
- OKR详情页数据一致

---

### 场景5: 数据血缘可视化 (3分钟)

**演示目标:** 展示数据从源系统到绩效的完整流转路径

#### 操作步骤:

1. **进入数据血缘页面**
   - 在绩效详情页，点击 **"查看数据血缘"** 按钮
   - 进入数据血缘可视化页面

2. **展示血缘图谱**
   - 图谱展示 (使用G6渲染):
     ```
     [ERP订单系统]
           ↓ (REST API调用)
     [订单原始数据]
       order_id: "ORD20251211001"
       order_amount: 12800000 (分)
       order_status: "CONFIRMED"
           ↓ (字段映射 & 数据转换)
     [平台订单表]
       order_no: "ORD20251211001"
       order_amount: 128000.00 (元)
       order_status: "已确认"
           ↓ (KPI计算引擎)
     [订单准时率指标]
       值: 92.5%
       计算公式: (85 / 92) × 100%
           ↓ (绩效计算引擎)
     [张伟 Q4绩效]
       订单准时率得分: 30/30
           ↓ (汇总)
     [张伟 Q4综合绩效]
       总分: 91分 (A等级)
     ```

3. **交互演示**
   - 点击节点 **"字段映射 & 数据转换"**
   - 右侧显示详情:
     ```
     转换规则:
     - order_id → order_no (直接映射)
     - order_amount / 100 → order_amount (数值转换)
     - CONFIRMED → 已确认 (枚举映射)
     ```

**讲解词:**
> 最后看数据血缘可视化。这张图展示了数据从ERP订单系统，到最终张伟的Q4综合绩效，完整的流转路径。
>
> 首先，平台通过REST API从ERP获取订单原始数据，order_amount是分为单位，order_status是英文。
>
> 然后，经过字段映射和数据转换，写入平台订单表，金额转成元，状态转成中文。
>
> 接着，KPI计算引擎根据公式计算"订单准时率"，张伟本季度92条订单，85条按期完成，得出92.5%。
>
> 最后，绩效计算引擎将订单准时率(30分)、客户满意度(28分)、出勤率(20分)、OKR完成度(13分)汇总，得出张伟的Q4综合绩效91分。
>
> 点击任意节点... (点击"字段映射") ...可以查看详细的转换规则。

**预期效果:**
- 血缘图谱清晰美观
- 节点连线流畅
- 节点详情弹出正确
- 数据一致性

---

### 收尾总结 (2分钟)

**讲解词:**
> 总结一下，汇仁药业低代码平台通过5个核心能力，实现了"OKR与ERP对齐，自动算绩效"：
>
> 1. **多源数据连接** - 打通ERP、CRM、钉钉OA等系统
> 2. **字段映射转换** - 自动转换单位、格式、枚举，统一数据口径
> 3. **KPI指标字典** - 定义业务指标，支持SQL和JavaScript
> 4. **自动计算引擎** - 定时或实时触发，自动计算并回填OKR
> 5. **数据血缘可视化** - 追溯数据来源，确保数据可信
>
> 这套方案最大的价值在于：**业务人员30分钟定义指标，IT人员2小时对接数据源，0代码实现自动化**。
>
> 客户看到这一步，会直接觉得：**你不是在做外包，你是在构建他们未来绩效体系的底座**。
>
> 演示完毕，谢谢大家！

---

## 🎨 视觉亮点清单

确保以下视觉元素在演示中突出展示：

1. ✅ **Debug Console** - 右下角绿色终端窗口，实时滚动日志
2. ✅ **数据对比** - 映射前后数据并排展示
3. ✅ **进度条动画** - OKR完成度进度条
4. ✅ **状态标签** - 成功(绿色)、失败(红色)、进行中(蓝色)
5. ✅ **趋势箭头** - ↑ +3.2% (绿色), ↓ -1.5% (红色)
6. ✅ **血缘图谱** - G6可视化，节点高亮，连线动画
7. ✅ **实时统计** - 顶部统计卡片动态数字

---

## 📦 页面开发清单

### ✅ 已完成页面 (10个)
- [x] 登录页面 (Login.vue)
- [x] Dashboard 主页
- [x] OKR列表页面
- [x] OKR创建页面
- [x] OKR详情页面
- [x] 绩效管理页面
- [x] 数据源列表页面
- [x] 数据源配置页面 (字段映射)
- [x] 数据同步任务列表页面 ⭐ 新
- [x] KPI指标字典页面 ⭐ 新

### 🚧 待完成页面 (11个)
- [ ] 绩效周期管理页面
- [ ] 数据血缘可视化页面
- [ ] 表单设计器Demo页面
- [ ] 工作流设计器Demo页面
- [ ] 页面构建器Demo页面
- [ ] API管理页面
- [ ] 应用市场页面
- [ ] 客户360视图页面 (场景3)
- [ ] 销售漏斗仪表板页面 (场景2)
- [ ] 费用报销页面 (场景5)
- [ ] 生产工单页面 (场景4)

---

## 🚀 部署方案

### 方案1: Vercel (推荐 - 免费、快速)

**优点:**
- ✅ 免费额度充足
- ✅ 自动HTTPS
- ✅ 全球CDN加速
- ✅ 一键部署

**缺点:**
- ⚠️ 国内访问可能较慢 (可绑定国内CDN)

**部署步骤:**
```bash
# 1. 构建项目
npm run build

# 2. 安装Vercel CLI
npm i -g vercel

# 3. 登录并部署
vercel login
vercel --prod
```

### 方案2: 阿里云OSS + CDN

**优点:**
- ✅ 国内访问快
- ✅ 价格低 (流量费约¥0.2/GB)
- ✅ 稳定可靠

**缺点:**
- ⚠️ 需要备案域名 (或使用二级域名)

**部署步骤:**
```bash
# 1. 构建项目
npm run build

# 2. 上传到OSS
# (使用阿里云控制台或ossutil工具)

# 3. 配置CDN加速
# (在阿里云控制台配置)
```

### 方案3: 腾讯云CVM + Nginx

**优点:**
- ✅ 完全可控
- ✅ 支持自定义配置
- ✅ 国内访问快

**缺点:**
- ⚠️ 需要服务器费用 (约¥0.3/小时)
- ⚠️ 需要手动配置Nginx

**部署步骤:**
```bash
# 1. 构建项目
npm run build

# 2. 上传到服务器
scp -r dist/* root@your-server-ip:/var/www/html/

# 3. 配置Nginx
# /etc/nginx/sites-available/demo
server {
    listen 80;
    server_name your-domain.com;
    root /var/www/html;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }
}

# 4. 重启Nginx
sudo systemctl restart nginx
```

---

## ⏱️ 时间安排建议

### 今天 (12月11日)
- ✅ 14:00-16:00: 完成所有页面开发 (11个)
- ✅ 16:00-17:00: 路由配置、菜单调整
- ✅ 17:00-18:00: 数据Mock优化、视觉调整
- ✅ 18:00-19:00: 完整走查演示流程
- ✅ 19:00-20:00: 构建并部署到云服务器
- ✅ 20:00-21:00: 最终测试、准备演示话术

### 明天 (12月12日)
- ✅ 会前30分钟: 最后检查、备用方案准备
- ✅ 会议演示: 20分钟完整演示

---

## 🔧 技术准备清单

### 本地环境检查
- [x] Node.js 版本 ≥ 16
- [x] npm/pnpm 安装
- [x] Vite 开发服务器正常运行
- [ ] 所有页面路由配置完成
- [ ] Mock数据完整

### 云服务器准备 (如需要)
- [ ] 服务器采购 (阿里云/腾讯云)
- [ ] 域名准备 (可选)
- [ ] Nginx安装配置
- [ ] SSL证书配置 (可选)

### 备用方案
- [ ] 本地演示 (localhost)
- [ ] 录屏视频备份
- [ ] PPT截图备份

---

## 📞 支持联系

如有问题，请联系：
- 技术支持: Claude Code
- 文档位置: `/Users/dantevonalcatraz/Development/renhe-medic/demo/DEMO_GUIDE.md`

---

**最后更新**: 2025-12-11 16:00
**版本**: v1.0
**状态**: 🚧 开发中 (已完成 48%)
